#
# wm independent hotkeys
#

# make sxhkd reload its configuration files:
super + ctrl + Escape
   notify-send "Restarting sxhkd" && \
   pkill -USR1 -x sxhkd

# terminal emulator
super + Return
   kitty

# program launcher
super + @space
   rofi -matching fuzzy -show run

# Launch qutebrowser
super + b
   qutebrowser

super + g
   kitty amfora

super + k
   kitty kcr edit

super + p
   kitty htop

super + F1
	bspc desktop -f ^1 && kitty -o font_size=14 newsboat

super + F2
   export NNN_BMS="h:~;d:~/Documents;D:~/Downloads;v:~/Videos;p:~/Pictures;w:~/Pictures/Wallpapers;c:~/.config/" && \
   export NNN_PLUG="t:_|kitty*;m:_|mpv $nnn*;g:_|gimp $nnn*;d:dragdrop;p:getplugs;3:mp3conv;n:nuke;r:_|doasedit $nnn*" && \
   export NNN_COLORS="5" && \

   BLK="c1" CHR="e2" DIR="04" EXE="02" REG="07" HARDLINK="0e" SYMLINK="0c" MISSING="f7" ORPHAN="01" FIFO="ab" SOCK="09" OTHER="c4" && \
   export NNN_FCOLORS="$BLK$CHR$DIR$EXE$REG$HARDLINK$SYMLINK$MISSING$ORPHAN$FIFO$SOCK$OTHER" && \
   kitty -o shell=zsh nnn -nR

super + F3
   bspc desktop -f ^3 && kitty -o font_size=13 neomutt

super + F4
   bspc desktop -f ^4 && kitty -o font_size=13 gomuks

super + F5
   pcmanfm

super + F8
   bspc desktop -f ^8 && kitty -o font_size=14 ncmpcpp

super + XF86AudioMute
   kitty pulsemixer

## Rofi
super + r ; c
   rofi -show calc -modi calc -no-show-match -no-sort

super + r ; d
   rofi-edit

super + r ; e
   rofimoji

super + r ; k
   sh /home/uver/.local/bin/kaomoji-rofi/kaomoji.sh

super + r ; p
   rofi -show menu -modi "menu:rofi-power-menu --choices=shutdown/reboot/lockscreen/suspend --confirm=reboot/shutdown"

super + r ; v
   rofi-rbw
   # bwmenu --auto-lock -1 -C

super + r ; y
   rofi-mpvtube

## Notifications
control + space
   dunstctl close

control + shift + space
   dunstctl close-all

super + d
   dunstctl set-paused toggle

super + control + d
   dunstctl context

## Screenshots
Print
   ss-copy-sel

alt + Print
   ss-copy-screen

control + Print
   ss-save-sel

shift + Print
   ss-save-screen

## Volume
XF86AudioMute
   pactl set-sink-mute @DEFAULT_SINK@ toggle

XF86AudioLowerVolume
   pactl set-sink-volume @DEFAULT_SINK@ -4%

XF86AudioRaiseVolume
   pactl set-sink-volume @DEFAULT_SINK@ +4%

XF86AudioPlay
   playerctl play-pause

XF86AudioNext
   playerctl next

XF86AudioPrev
   playerctl previous

## Brightness
XF86MonBrightnessUp
   light -A 10
XF86MonBrightnessDown
   light -U 10

# Info
super + z ; t
   notify-send "`date +"%I:%M %a %b %d"`"

#
# bspwm hotkeys
#

quit/restart bspwm
super + ctrl + {q,r}
   bspc {quit,wm -r && notify-send "Restarting bspwm"}

# close and kill
super + {_,shift + }w
   bspc node -{c,k}

# alternate between the tiled and monocle layout
super + m
   bspc desktop -l next

# send the newest marked node to the newest preselected node
super + y
   bspc node newest.marked.local -n newest.!automatic.local

super + alt + r
   bspc node @/ -R 90

# swap the current node and the biggest window
super + control + b
   bspc node -s biggest.window

# Equalize all window sizes
super + alt + shift + control + e
   bspc node @/ -E

#
# state/flags
#

# set the window state
super + {t,control + p,control + f,f}
   bspc node -t {tiled,pseudo_tiled,floating,fullscreen}

# set the node flags
super + ctrl + {m,x,y,z}
   bspc node -g {marked,locked,sticky,private}

#
# focus/swap
#

# focus the node in the given direction
super + {_,alt + }{n,e,i,o}
   bspc node -{f,s} {west,south,north,east}

super + {_,alt + }{Left,Down,Up,Right}
   bspc node -{f,s} {west,south,north,east}

# focus the node for the given path jump
# super + {p,b,comma,period}
   # bspc node -f @{parent,brother,first,second}

# focus the next/previous window in the current desktop
super + {_,shift + }c
   bspc node -f {next,prev}.local.!hidden.window

# focus the next/previous desktop in the current monitor
super + bracket{left,right}
   bspc desktop -f {prev,next}.local

# focus the last node/desktop
super + {grave,Tab}
   bspc {node,desktop} -f last

# focus the older or newer node in the focus history
# super + {o,i}
# 	bspc wm -h off; \
# 	bspc node {older,newer} -f; \
# 	bspc wm -h on

# focus or send to the given desktop
super + {_,alt + }{1-9,0}
   bspc {desktop -f,node --to-desktop} '^{1-9,10}' --follow

super + shift + {1-9,0}
   bspc node --to-desktop '^{1-9,10}'

#
# preselect
#

# preselect the direction
super + alt + shift + {n,e,i,o}
   bspc node -p {west,south,north,east}

# preselect the ratio
super + ctrl + {1-9}
   bspc node -o 0.{1-9}

# cancel the preselection for the focused node
super + alt + shift + space
   bspc node -p cancel

# cancel the preselection for the focused desktop
super + alt + space
   bspc query -N -d | xargs -I id -n 1 bspc node id -p cancel

#
# move/resize
#

# Expand a window by moving one of its sides outward (movement keys)
super + ctrl + {n,e,i,o}
   n=20; \
   { d1=left;   d2=right;  dx=-$n; dy=0;   \
   , d1=bottom; d2=top;    dx=0;   dy=$n;  \
   , d1=top;    d2=bottom; dx=0;   dy=-$n; \
   , d1=right;  d2=left;   dx=$n;  dy=0;   \
   } \
   bspc node --resize  $d1 $dx $dy || bspc node --resize $d2 $dx $dy
   #bspc node -z {left -20 0,bottom 0 20,top 0 -20,right 20 0}super + ctrl + {n,e,i,o}

# Expand a window by moving one of its sides outward (arrow keys)
super + ctrl + {Left,Down,Up,Right}
   n=20; \
   { d1=left;   d2=right;  dx=-$n; dy=0;   \
   , d1=bottom; d2=top;    dx=0;   dy=$n;  \
   , d1=top;    d2=bottom; dx=0;   dy=-$n; \
   , d1=right;  d2=left;   dx=$n;  dy=0;   \
   } \
   bspc node --resize  $d1 $dx $dy || bspc node --resize $d2 $dx $dy

# contract a window by moving one of its side inward
#super + ctrl + shift + {h,j,k,l}
#	bspc node -z {right -20 0,top 0 20,bottom 0 -20,left 20 0}

# move a floating window
super + alt + ctrl + {n,e,i,o}
   bspc node -v {-20 0,0 20,0 -20,20 0}

super + alt + ctrl + {Left,Down,Up,Right}
   bspc node -v {-20 0,0 20,0 -20,20 0}
